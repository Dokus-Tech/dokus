2025-10-18 16:26:18,980 [main] INFO  Application MDC={} - Loaded configuration: development
2025-10-18 16:26:19,075 [main] INFO  io.ktor.server.Application MDC={} - Autoreload is disabled because the development mode is off.
2025-10-18 16:26:19,085 [main] INFO  Application MDC={} - Starting Dokus Database Service...
2025-10-18 16:26:19,085 [main] INFO  Application MDC={} - Environment: development
2025-10-18 16:26:19,085 [main] INFO  Application MDC={} - Financial Management System - Multi-tenant SaaS
2025-10-18 16:26:19,153 [main] DEBUG i.m.c.u.i.l.InternalLoggerFactory MDC={} - Using SLF4J as the default logging framework
2025-10-18 16:26:19,165 [main] INFO  i.m.c.i.push.PushMeterRegistry MDC={} - publishing metrics for LoggingMeterRegistry every 1m
2025-10-18 16:26:19,198 [main] INFO  Application MDC={} - Initializing database schema...
2025-10-18 16:26:19,261 [main] INFO  com.zaxxer.hikari.HikariDataSource MDC={} - dokus-database-pool - Starting...
2025-10-18 16:26:19,360 [main] INFO  com.zaxxer.hikari.pool.HikariPool MDC={} - dokus-database-pool - Added connection org.postgresql.jdbc.PgConnection@4b4ee511
2025-10-18 16:26:19,361 [main] INFO  com.zaxxer.hikari.HikariDataSource MDC={} - dokus-database-pool - Start completed.
2025-10-18 16:26:19,460 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-18 16:26:19,460 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Determining location urls for classpath:db/callback using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@5b202a3a ...
2025-10-18 16:26:19,460 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Unable to resolve location classpath:db/callback.
2025-10-18 16:26:19,460 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-18 16:26:19,460 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@5b202a3a ...
2025-10-18 16:26:19,460 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Scanning URL: jar:file:/app/app.jar!/db/migration
2025-10-18 16:26:19,466 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Found resource: db/migration/
2025-10-18 16:26:19,466 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Found resource: db/migration/V1__initial_schema.sql
2025-10-18 16:26:19,466 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-18 16:26:19,466 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@5b202a3a ...
2025-10-18 16:26:19,466 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Scanning URL: jar:file:/app/app.jar!/db/migration
2025-10-18 16:26:19,466 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Found resource: db/migration/
2025-10-18 16:26:19,466 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Found resource: db/migration/V1__initial_schema.sql
2025-10-18 16:26:19,466 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner MDC={} - Scanning for classes at classpath:db/migration
2025-10-18 16:26:19,481 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/ (filename: )
2025-10-18 16:26:19,481 [main] DEBUG o.f.c.i.r.ResourceNameValidator MDC={} - Validating V1__initial_schema.sql
2025-10-18 16:26:19,483 [main] DEBUG o.f.c.i.d.DatabaseTypeRegister MDC={} - Multiple databases found that handle url 'jdbc:postgresql://postgres-dev:5432/dokus': CockroachDB,PostgreSQL
2025-10-18 16:26:19,483 [main] INFO  org.flywaydb.core.FlywayExecutor MDC={} - Database: jdbc:postgresql://postgres-dev:5432/dokus (PostgreSQL 17.6)
2025-10-18 16:26:19,483 [main] DEBUG org.flywaydb.core.FlywayExecutor MDC={} - Database Type: PostgreSQL
2025-10-18 16:26:19,483 [main] DEBUG org.flywaydb.core.FlywayExecutor MDC={} - Driver: PostgreSQL JDBC Driver 42.7.8
2025-10-18 16:26:19,483 [main] DEBUG org.flywaydb.core.FlywayExecutor MDC={} - DDL Transactions Supported: true
2025-10-18 16:26:19,484 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory MDC={} - Schemas: public
2025-10-18 16:26:19,484 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory MDC={} - Default schema: null
2025-10-18 16:26:19,494 [main] DEBUG org.flywaydb.core.FlywayExecutor MDC={} - Scanning for script callbacks ...
2025-10-18 16:26:19,495 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/ (filename: )
2025-10-18 16:26:19,495 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory MDC={} - Scanning for SQL callbacks ...
2025-10-18 16:26:19,495 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/ (filename: )
2025-10-18 16:26:19,501 [main] DEBUG o.f.core.internal.command.DbValidate MDC={} - Validating migrations ...
2025-10-18 16:26:19,502 [main] DEBUG o.f.c.a.c.ClassicConfiguration MDC={} - CherryPickConfigurationExtension not found
2025-10-18 16:26:19,502 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/ (filename: )
2025-10-18 16:26:19,505 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/ (filename: )
2025-10-18 16:26:19,505 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/V1__initial_schema.sql (filename: V1__initial_schema.sql)
2025-10-18 16:26:19,505 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/ (filename: )
2025-10-18 16:26:19,505 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/V1__initial_schema.sql (filename: V1__initial_schema.sql)
2025-10-18 16:26:19,505 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/ (filename: )
2025-10-18 16:26:19,505 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/ (filename: )
2025-10-18 16:26:19,505 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/V1__initial_schema.sql (filename: V1__initial_schema.sql)
2025-10-18 16:26:19,506 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/ (filename: )
2025-10-18 16:26:19,506 [main] DEBUG o.f.core.internal.scanner.Scanner MDC={} - Filtering out resource: db/migration/V1__initial_schema.sql (filename: V1__initial_schema.sql)
2025-10-18 16:26:19,514 [main] INFO  o.f.core.internal.command.DbValidate MDC={} - Successfully validated 2 migrations (execution time 00:00.012s)
2025-10-18 16:26:19,515 [main] DEBUG o.f.core.internal.command.DbSchemas MDC={} - Skipping creation of existing schema: "public"
2025-10-18 16:26:19,518 [main] DEBUG o.f.c.a.c.ClassicConfiguration MDC={} - CherryPickConfigurationExtension not found
2025-10-18 16:26:19,519 [main] INFO  o.f.core.internal.command.DbMigrate MDC={} - Current version of schema "public": 1.0.0
2025-10-18 16:26:19,520 [main] INFO  o.f.core.internal.command.DbMigrate MDC={} - Schema "public" is up to date. No migration necessary.
2025-10-18 16:26:19,526 [main] DEBUG org.flywaydb.core.FlywayExecutor MDC={} - Memory usage: 52 of 256M
2025-10-18 16:26:19,526 [main] INFO  a.d.f.database.utils.DatabaseFactory MDC={} - Migration completed: 0 migrations executed
2025-10-18 16:26:19,562 [main] INFO  Application MDC={} - Database schema initialized successfully
2025-10-18 16:26:19,568 [main] INFO  Application MDC={} - RPC services registered at /api/rpc
2025-10-18 16:26:19,568 [main] INFO  Application MDC={} - Dokus Database Service started successfully
2025-10-18 16:26:19,568 [main] INFO  Application MDC={} - Financial precision: NUMERIC(12,2) for all monetary values
2025-10-18 16:26:19,568 [main] INFO  Application MDC={} - Multi-tenant isolation: All queries filtered by tenant_id
2025-10-18 16:26:19,569 [main] INFO  io.ktor.server.Application MDC={} - Application started in 0.567 seconds.
2025-10-18 16:26:19,631 [DefaultDispatcher-worker-1] INFO  io.ktor.server.Application MDC={} - Responding at http://0.0.0.0:9070
