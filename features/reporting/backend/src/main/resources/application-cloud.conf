include "application.conf"

# Cloud deployment overrides

ktor {
    deployment {
        port = 6095
        port = ${?PORT}
        environment = "cloud"
    }
}

database {
    # Override with cloud database credentials
    username = ${DB_USERNAME}
    password = ${DB_PASSWORD}
    url = ${?DB_URL}

    pool {
        maxSize = 20
        minSize = 5
        acquisitionTimeout = 30000
        idleTimeout = 600000
        maxLifetime = 1800000
        leakDetectionThreshold = 30000
    }
}

caching {
    type = ${CACHE_TYPE}

    redis {
        host = ${?REDIS_HOST}
        port = ${?REDIS_PORT}
        password = ${?REDIS_PASSWORD}
    }
}

logging {
    level = ${?LOG_LEVEL}
    consoleJson = true  # JSON format for cloud
}
