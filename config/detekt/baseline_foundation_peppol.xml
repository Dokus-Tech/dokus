<?xml version="1.0" ?>
<SmellBaseline>
  <ManuallySuppressedIssues/>
  <CurrentIssues>
    <ID>ArgumentListWrapping:PeppolService.kt$PeppolService$( invoice, contact, tenant, companyAddress, tenantSettings, peppolSettings )</ID>
    <ID>ArgumentListWrapping:RecommandProvider.kt$RecommandProvider$( "direction", when (it) { PeppolDirection.INBOUND -&gt; "incoming" PeppolDirection.OUTBOUND -&gt; "outgoing" } )</ID>
    <ID>CyclomaticComplexMethod:PeppolConnectionService.kt$PeppolConnectionService$suspend fun connectRecommand( tenant: Tenant, companyAddress: Address?, request: PeppolConnectRequest, ): Result&lt;PeppolConnectResponse&gt;</ID>
    <ID>CyclomaticComplexMethod:PeppolMapper.kt$PeppolMapper$private fun inferCategory(document: PeppolReceivedDocument): ExpenseCategory</ID>
    <ID>CyclomaticComplexMethod:PeppolValidator.kt$PeppolValidator$fun validateForSending( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, companyAddress: Address?, tenantSettings: TenantSettings, peppolSettings: PeppolSettingsDto ): PeppolValidationResult</ID>
    <ID>ImportOrdering:PeppolMapper.kt$import tech.dokus.domain.Money import tech.dokus.domain.VatRate import tech.dokus.domain.enums.ExpenseCategory import tech.dokus.domain.model.Address import tech.dokus.domain.model.contact.ContactDto import tech.dokus.domain.model.CreateInboundInvoiceRequest import tech.dokus.domain.model.FinancialDocumentDto import tech.dokus.domain.model.InvoiceItemDto import tech.dokus.domain.model.PeppolSettingsDto import tech.dokus.domain.model.Tenant import tech.dokus.domain.model.TenantSettings import tech.dokus.foundation.backend.utils.loggerFor import tech.dokus.peppol.model.PeppolDocumentType import tech.dokus.peppol.model.PeppolInvoiceData import tech.dokus.peppol.model.PeppolLineItem import tech.dokus.peppol.model.PeppolParty import tech.dokus.peppol.model.PeppolPaymentInfo import tech.dokus.peppol.model.PeppolReceivedDocument import tech.dokus.peppol.model.PeppolSendRequest import kotlinx.datetime.LocalDate</ID>
    <ID>ImportOrdering:PeppolProviderFactory.kt$import tech.dokus.foundation.backend.utils.loggerFor import tech.dokus.peppol.config.PeppolModuleConfig import tech.dokus.peppol.provider.client.RecommandProvider import io.ktor.client.HttpClient</ID>
    <ID>ImportOrdering:PeppolService.kt$import tech.dokus.database.repository.peppol.PeppolSettingsRepository import tech.dokus.database.repository.peppol.PeppolSettingsWithCredentials import tech.dokus.database.repository.peppol.PeppolTransmissionRepository import tech.dokus.domain.enums.PeppolDocumentType import tech.dokus.domain.enums.PeppolStatus import tech.dokus.domain.enums.PeppolTransmissionDirection import tech.dokus.domain.ids.InvoiceId import tech.dokus.domain.ids.PeppolId import tech.dokus.domain.ids.TenantId import tech.dokus.domain.model.Address import tech.dokus.domain.model.contact.ContactDto import tech.dokus.domain.model.CreateInboundInvoiceRequest import tech.dokus.domain.model.FinancialDocumentDto import tech.dokus.domain.model.PeppolInboxPollResponse import tech.dokus.domain.model.PeppolSettingsDto import tech.dokus.domain.model.PeppolTransmissionDto import tech.dokus.domain.model.PeppolValidationResult import tech.dokus.domain.model.ProcessedPeppolDocument import tech.dokus.domain.model.SavePeppolSettingsRequest import tech.dokus.domain.model.SendInvoiceViaPeppolResponse import tech.dokus.domain.model.Tenant import tech.dokus.domain.model.TenantSettings import tech.dokus.foundation.backend.utils.loggerFor import tech.dokus.peppol.mapper.PeppolMapper import tech.dokus.peppol.model.PeppolVerifyResponse import tech.dokus.peppol.provider.PeppolProvider import tech.dokus.peppol.provider.PeppolProviderFactory import tech.dokus.peppol.provider.client.RecommandCredentials import tech.dokus.peppol.validator.PeppolValidator import kotlinx.datetime.Clock import kotlinx.datetime.TimeZone import kotlinx.datetime.toLocalDateTime import kotlinx.serialization.json.Json</ID>
    <ID>ImportOrdering:PeppolValidator.kt$import tech.dokus.domain.model.contact.ContactDto import tech.dokus.domain.model.FinancialDocumentDto import tech.dokus.domain.model.Address import tech.dokus.domain.model.PeppolSettingsDto import tech.dokus.domain.model.PeppolValidationError import tech.dokus.domain.model.PeppolValidationResult import tech.dokus.domain.model.PeppolValidationWarning import tech.dokus.domain.model.Tenant import tech.dokus.domain.model.TenantSettings</ID>
    <ID>ImportOrdering:RecommandCompaniesClient.kt$import tech.dokus.peppol.config.PeppolModuleConfig import io.ktor.client.HttpClient import io.ktor.client.call.body import io.ktor.client.request.basicAuth import io.ktor.client.request.get import io.ktor.client.request.parameter import io.ktor.client.request.post import io.ktor.client.request.setBody import io.ktor.client.statement.bodyAsText import io.ktor.http.ContentType import io.ktor.http.contentType import io.ktor.http.isSuccess import kotlinx.serialization.Serializable</ID>
    <ID>ImportOrdering:RecommandCredentials.kt$import tech.dokus.peppol.provider.PeppolCredentials import kotlinx.serialization.Serializable</ID>
    <ID>ImportOrdering:RecommandMapper.kt$import tech.dokus.domain.enums.PeppolDocumentType.Companion.toApiValue import tech.dokus.domain.model.RecommandDocumentsResponse import tech.dokus.domain.model.RecommandInboxDocument import tech.dokus.domain.model.RecommandInvoiceDocument import tech.dokus.domain.model.RecommandLineItem import tech.dokus.domain.model.RecommandParty import tech.dokus.domain.model.RecommandPaymentMeans import tech.dokus.domain.model.RecommandReceivedDocument import tech.dokus.domain.model.RecommandSendDocumentType import tech.dokus.domain.model.RecommandSendRequest import tech.dokus.domain.model.RecommandSendResponse import tech.dokus.domain.model.RecommandVerifyResponse import tech.dokus.peppol.model.PeppolDirection import tech.dokus.peppol.model.PeppolDocumentList import tech.dokus.peppol.model.PeppolDocumentSummary import tech.dokus.peppol.model.PeppolDocumentType import tech.dokus.peppol.model.PeppolError import tech.dokus.peppol.model.PeppolInboxItem import tech.dokus.peppol.model.PeppolMonetaryTotals import tech.dokus.peppol.model.PeppolParty import tech.dokus.peppol.model.PeppolReceivedDocument import tech.dokus.peppol.model.PeppolReceivedLineItem import tech.dokus.peppol.model.PeppolSendRequest import tech.dokus.peppol.model.PeppolSendResponse import tech.dokus.peppol.model.PeppolTaxSubtotal import tech.dokus.peppol.model.PeppolTaxTotal import tech.dokus.peppol.model.PeppolVerifyResponse import tech.dokus.domain.enums.RecommandDirection import tech.dokus.domain.model.RecommandReceivedLineItem import tech.dokus.peppol.model.PeppolLineItem</ID>
    <ID>Indentation:PeppolProviderFactory.kt$PeppolProviderFactory$ </ID>
    <ID>LongMethod:PeppolConnectionService.kt$PeppolConnectionService$suspend fun connectRecommand( tenant: Tenant, companyAddress: Address?, request: PeppolConnectRequest, ): Result&lt;PeppolConnectResponse&gt;</ID>
    <ID>LongMethod:PeppolService.kt$PeppolService$suspend fun pollInbox( tenantId: TenantId, createInvoiceCallback: suspend (CreateInboundInvoiceRequest, TenantId) -&gt; Result&lt;FinancialDocumentDto.InvoiceDto&gt; ): Result&lt;PeppolInboxPollResponse&gt;</ID>
    <ID>LongMethod:PeppolService.kt$PeppolService$suspend fun sendInvoice( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, companyAddress: Address?, tenantSettings: TenantSettings, tenantId: TenantId ): Result&lt;SendInvoiceViaPeppolResponse&gt;</ID>
    <ID>LongMethod:PeppolValidator.kt$PeppolValidator$fun validateForSending( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, companyAddress: Address?, tenantSettings: TenantSettings, peppolSettings: PeppolSettingsDto ): PeppolValidationResult</ID>
    <ID>LongParameterList:PeppolMapper.kt$PeppolMapper$( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, tenantSettings: TenantSettings, peppolSettings: PeppolSettingsDto, companyAddress: Address? )</ID>
    <ID>LongParameterList:PeppolService.kt$PeppolService$( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, companyAddress: Address?, tenantSettings: TenantSettings, tenantId: TenantId )</ID>
    <ID>LongParameterList:PeppolValidator.kt$PeppolValidator$( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, companyAddress: Address?, tenantSettings: TenantSettings, peppolSettings: PeppolSettingsDto )</ID>
    <ID>MagicNumber:CompanyAddressParser.kt$CompanyAddressParser$3</ID>
    <ID>MagicNumber:RecommandCompaniesClient.kt$RecommandCompaniesClient$401</ID>
    <ID>MaxLineLength:PeppolMapper.kt$PeppolMapper$keywordsLower.contains("consulting") || keywordsLower.contains("professional") || keywordsLower.contains("legal") || keywordsLower.contains("accounting") -&gt; ExpenseCategory.ProfessionalServices</ID>
    <ID>MaxLineLength:PeppolMapper.kt$PeppolMapper$keywordsLower.contains("hardware") || keywordsLower.contains("computer") || keywordsLower.contains("laptop") -&gt; ExpenseCategory.Hardware</ID>
    <ID>MaxLineLength:PeppolMapper.kt$PeppolMapper$keywordsLower.contains("telecom") || keywordsLower.contains("phone") || keywordsLower.contains("internet") -&gt; ExpenseCategory.Telecommunications</ID>
    <ID>MaxLineLength:PeppolMapper.kt$PeppolMapper$keywordsLower.contains("travel") || keywordsLower.contains("flight") || keywordsLower.contains("hotel") -&gt; ExpenseCategory.Travel</ID>
    <ID>MaxLineLength:PeppolValidator.kt$PeppolValidator$message = "Sender Peppol ID format is invalid. Expected format: scheme:identifier (e.g., 0208:BE0123456789)"</ID>
    <ID>MaximumLineLength:PeppolMapper.kt$PeppolMapper$ </ID>
    <ID>MaximumLineLength:PeppolValidator.kt$PeppolValidator$ </ID>
    <ID>MultiLineIfElse:RecommandMapper.kt$RecommandMapper$null</ID>
    <ID>NoBlankLineBeforeRbrace:PeppolMapper.kt$PeppolMapper$ </ID>
    <ID>NoBlankLineBeforeRbrace:PeppolService.kt$PeppolService$ </ID>
    <ID>NoConsecutiveBlankLines:CompanyAddressParser.kt$ </ID>
    <ID>NoMultipleSpaces:PeppolMapper.kt$PeppolMapper$ </ID>
    <ID>NoMultipleSpaces:PeppolModels.kt$PeppolLineItem$ </ID>
    <ID>NoMultipleSpaces:PeppolModels.kt$PeppolPaymentInfo$ </ID>
    <ID>NoMultipleSpaces:PeppolService.kt$PeppolService$ </ID>
    <ID>ReturnCount:PeppolValidator.kt$PeppolValidator$private fun isValidPeppolId(peppolId: String): Boolean</ID>
    <ID>StringTemplate:PeppolConnectionService.kt$PeppolConnectionService$${vatNormalized}</ID>
    <ID>StringTemplate:PeppolProviderFactory.kt$PeppolProviderFactory$${providerName}</ID>
    <ID>SwallowedException:PeppolConnectionService.kt$PeppolConnectionService$e: RecommandUnauthorizedException</ID>
    <ID>ThrowsCount:PeppolService.kt$PeppolService$suspend fun sendInvoice( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, companyAddress: Address?, tenantSettings: TenantSettings, tenantId: TenantId ): Result&lt;SendInvoiceViaPeppolResponse&gt;</ID>
    <ID>TooGenericExceptionCaught:PeppolMapper.kt$PeppolMapper$e: Exception</ID>
    <ID>TooGenericExceptionCaught:PeppolService.kt$PeppolService$e: Exception</ID>
    <ID>TooManyFunctions:PeppolService.kt$PeppolService</ID>
    <ID>TooManyFunctions:RecommandMapper.kt$RecommandMapper</ID>
    <ID>UnusedParameter:PeppolMapper.kt$PeppolMapper$peppolSettings: PeppolSettingsDto</ID>
    <ID>UseCheckOrError:PeppolService.kt$PeppolService$throw IllegalStateException("Peppol settings not configured for tenant: $tenantId")</ID>
    <ID>UseCheckOrError:RecommandProvider.kt$RecommandProvider$throw IllegalStateException("Document content is missing for ID: $documentId")</ID>
    <ID>Wrapping:PeppolService.kt$PeppolService$;</ID>
    <ID>Wrapping:PeppolValidator.kt$PeppolValidator$(</ID>
    <ID>Wrapping:RecommandProvider.kt$RecommandProvider$( "direction", when (it) { PeppolDirection.INBOUND -&gt; "incoming" PeppolDirection.OUTBOUND -&gt; "outgoing" } )</ID>
  </CurrentIssues>
</SmellBaseline>
