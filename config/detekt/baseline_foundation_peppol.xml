<?xml version="1.0" ?>
<SmellBaseline>
  <ManuallySuppressedIssues/>
  <CurrentIssues>
    <ID>ArgumentListWrapping:RecommandMapper.kt$RecommandMapper$( detail, json.decodeFromJsonElement&lt;RecommandCreditNote&gt;(parsed))</ID>
    <ID>ArgumentListWrapping:RecommandMapper.kt$RecommandMapper$( detail, json.decodeFromJsonElement&lt;RecommandInvoice&gt;(parsed))</ID>
    <ID>ArgumentListWrapping:RecommandMapper.kt$RecommandMapper$( detail, json.decodeFromJsonElement&lt;RecommandSelfBillingCreditNote&gt;(parsed))</ID>
    <ID>ArgumentListWrapping:RecommandMapper.kt$RecommandMapper$( item.taxCategory)</ID>
    <ID>ArgumentListWrapping:RecommandMapper.kt$RecommandMapper$(detail, json.decodeFromJsonElement&lt;RecommandCreditNote&gt;(parsed))</ID>
    <ID>ArgumentListWrapping:RecommandMapper.kt$RecommandMapper$(detail, json.decodeFromJsonElement&lt;RecommandInvoice&gt;(parsed))</ID>
    <ID>ArgumentListWrapping:RecommandMapper.kt$RecommandMapper$(detail, json.decodeFromJsonElement&lt;RecommandSelfBillingCreditNote&gt;(parsed))</ID>
    <ID>ArgumentListWrapping:RecommandMapper.kt$RecommandMapper$(item.taxCategory)</ID>
    <ID>ComplexCondition:PeppolConnectionService.kt$PeppolConnectionService$street.isNullOrBlank() || postalCode.isNullOrBlank() || city.isNullOrBlank() || country.isNullOrBlank()</ID>
    <ID>CyclomaticComplexMethod:PeppolService.kt$PeppolService$suspend fun pollInbox( tenantId: TenantId, createDocumentCallback: suspend (DocumentDraftData, String, TenantId, RecommandDocumentDetail?) -&gt; Result&lt;DocumentId&gt; ): Result&lt;PeppolInboxPollResponse&gt;</ID>
    <ID>CyclomaticComplexMethod:PeppolValidator.kt$PeppolValidator$fun validateForSending( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, companyAddress: Address?, tenantSettings: TenantSettings, peppolSettings: PeppolSettingsDto, recipientPeppolId: String? ): PeppolValidationResult</ID>
    <ID>ImportOrdering:PeppolService.kt$import kotlin.time.Clock import tech.dokus.domain.Money import kotlinx.datetime.LocalDateTime import kotlinx.datetime.TimeZone import kotlinx.datetime.toLocalDateTime import tech.dokus.database.repository.peppol.PeppolSettingsRepository import tech.dokus.database.repository.peppol.PeppolTransmissionRepository import tech.dokus.domain.enums.PeppolDocumentType import tech.dokus.domain.enums.PeppolStatus import tech.dokus.domain.enums.PeppolTransmissionDirection import tech.dokus.domain.ids.DocumentId import tech.dokus.domain.ids.InvoiceId import tech.dokus.domain.ids.PeppolId import tech.dokus.domain.ids.PeppolTransmissionId import tech.dokus.domain.ids.TenantId import tech.dokus.domain.model.Address import tech.dokus.domain.model.DocumentDraftData import tech.dokus.domain.model.FinancialDocumentDto import tech.dokus.domain.model.PeppolInboxPollResponse import tech.dokus.domain.model.PeppolSettingsDto import tech.dokus.domain.model.PeppolTransmissionDto import tech.dokus.domain.model.PeppolValidationResult import tech.dokus.domain.model.ProcessedPeppolDocument import tech.dokus.domain.model.SendInvoiceViaPeppolResponse import tech.dokus.domain.model.Tenant import tech.dokus.domain.model.TenantSettings import tech.dokus.domain.model.contact.ContactDto import tech.dokus.domain.utils.json import tech.dokus.foundation.backend.utils.loggerFor import tech.dokus.peppol.mapper.PeppolMapper import tech.dokus.peppol.model.PeppolDocumentSummary import tech.dokus.peppol.model.PeppolInboxItem import tech.dokus.peppol.model.PeppolVerifyResponse import tech.dokus.peppol.provider.PeppolProvider import tech.dokus.peppol.provider.PeppolProviderFactory import tech.dokus.peppol.provider.client.RecommandProvider import tech.dokus.peppol.provider.client.recommand.model.RecommandDocumentDetail import tech.dokus.peppol.validator.PeppolValidator import kotlin.time.Duration.Companion.days</ID>
    <ID>ImportOrdering:PeppolTransferPollingService.kt$import kotlin.time.Clock import kotlinx.datetime.TimeZone import kotlinx.datetime.toLocalDateTime import tech.dokus.database.repository.peppol.PeppolRegistrationRepository import tech.dokus.domain.ids.TenantId import tech.dokus.domain.model.PeppolRegistrationDto import tech.dokus.foundation.backend.utils.loggerFor</ID>
    <ID>ImportOrdering:RecommandApiDocumentSchemas.kt$import kotlin.jvm.JvmInline import kotlinx.datetime.LocalDate import kotlinx.serialization.SerialName import kotlinx.serialization.Serializable import kotlinx.serialization.json.JsonElement</ID>
    <ID>ImportOrdering:RecommandCompaniesClient.kt$import io.ktor.client.HttpClient import io.ktor.client.call.body import io.ktor.client.request.basicAuth import io.ktor.client.request.get import io.ktor.client.request.parameter import io.ktor.client.request.post import io.ktor.client.request.put import io.ktor.client.request.setBody import io.ktor.client.statement.bodyAsText import io.ktor.http.ContentType import io.ktor.http.contentType import io.ktor.http.isSuccess import tech.dokus.peppol.provider.client.recommand.model.RecommandCompany import tech.dokus.peppol.provider.client.recommand.model.RecommandCreateCompanyRequest import tech.dokus.peppol.provider.client.recommand.model.RecommandCreateCompanyResponse import tech.dokus.peppol.provider.client.recommand.model.RecommandGetCompaniesResponse import tech.dokus.peppol.provider.client.recommand.model.RecommandUpdateCompanyRequest import tech.dokus.peppol.provider.client.recommand.model.RecommandUpdateCompanyResponse import tech.dokus.peppol.config.PeppolProviderConfig</ID>
    <ID>ImportOrdering:RecommandMapper.kt$import java.util.Locale import kotlinx.serialization.json.JsonElement import kotlinx.serialization.json.decodeFromJsonElement import kotlinx.serialization.json.encodeToJsonElement import tech.dokus.domain.enums.PeppolDocumentType import tech.dokus.domain.enums.PeppolTransmissionDirection import tech.dokus.domain.utils.json import tech.dokus.peppol.model.PeppolDocumentList import tech.dokus.peppol.model.PeppolDocumentSummary import tech.dokus.peppol.model.PeppolInboxItem import tech.dokus.peppol.model.PeppolLineItem import tech.dokus.peppol.model.PeppolMonetaryTotals import tech.dokus.peppol.model.PeppolParty import tech.dokus.peppol.model.PeppolReceivedDocument import tech.dokus.peppol.model.PeppolReceivedLineItem import tech.dokus.peppol.model.PeppolSendRequest import tech.dokus.peppol.model.PeppolSendResponse import tech.dokus.peppol.model.PeppolTaxSubtotal import tech.dokus.peppol.model.PeppolTaxTotal import tech.dokus.peppol.model.PeppolVerifyResponse import tech.dokus.peppol.provider.client.recommand.model.RecommandCreditNote import tech.dokus.peppol.provider.client.recommand.model.RecommandDocumentDetail import tech.dokus.peppol.provider.client.recommand.model.RecommandDocumentDirection import tech.dokus.peppol.provider.client.recommand.model.RecommandDocumentSummary import tech.dokus.peppol.provider.client.recommand.model.RecommandDocumentType import tech.dokus.peppol.provider.client.recommand.model.RecommandGetDocumentsResponse import tech.dokus.peppol.provider.client.recommand.model.RecommandInboxDocument import tech.dokus.peppol.provider.client.recommand.model.RecommandInvoice import tech.dokus.peppol.provider.client.recommand.model.RecommandLine import tech.dokus.peppol.provider.client.recommand.model.RecommandParty import tech.dokus.peppol.provider.client.recommand.model.RecommandPaymentMeans import tech.dokus.peppol.provider.client.recommand.model.RecommandPaymentMethod import tech.dokus.peppol.provider.client.recommand.model.RecommandSendDocumentRequest import tech.dokus.peppol.provider.client.recommand.model.RecommandSendDocumentResponse import tech.dokus.peppol.provider.client.recommand.model.RecommandSendInvoice import tech.dokus.peppol.provider.client.recommand.model.RecommandSelfBillingCreditNote import tech.dokus.peppol.provider.client.recommand.model.RecommandSelfBillingInvoice import tech.dokus.peppol.provider.client.recommand.model.RecommandTotals import tech.dokus.peppol.provider.client.recommand.model.RecommandVat import tech.dokus.peppol.provider.client.recommand.model.RecommandVatCategory import tech.dokus.peppol.provider.client.recommand.model.RecommandVatTotals import tech.dokus.peppol.provider.client.recommand.model.RecommandVerifyRecipientResponse</ID>
    <ID>ImportOrdering:RecommandProvider.kt$import io.ktor.client.HttpClient import io.ktor.client.call.body import io.ktor.client.request.basicAuth import io.ktor.client.request.get import io.ktor.client.request.parameter import io.ktor.client.request.post import io.ktor.client.request.setBody import io.ktor.client.statement.bodyAsText import io.ktor.http.ContentType import io.ktor.http.contentType import io.ktor.http.isSuccess import tech.dokus.domain.utils.json import tech.dokus.foundation.backend.utils.loggerFor import tech.dokus.peppol.config.PeppolProviderConfig import tech.dokus.domain.enums.PeppolTransmissionDirection import tech.dokus.peppol.model.PeppolDocumentList import tech.dokus.peppol.model.PeppolInboxItem import tech.dokus.peppol.model.PeppolReceivedDocument import tech.dokus.peppol.model.PeppolSendRequest import tech.dokus.peppol.model.PeppolSendResponse import tech.dokus.peppol.model.PeppolVerifyResponse import tech.dokus.peppol.provider.PeppolCredentials import tech.dokus.peppol.provider.PeppolProvider import tech.dokus.peppol.provider.client.recommand.model.RecommandDocumentDetail import tech.dokus.peppol.provider.client.recommand.model.RecommandGetDocumentResponse import tech.dokus.peppol.provider.client.recommand.model.RecommandGetDocumentsResponse import tech.dokus.peppol.provider.client.recommand.model.RecommandGetInboxResponse import tech.dokus.peppol.provider.client.recommand.model.RecommandMarkAsReadRequest import tech.dokus.peppol.provider.client.recommand.model.RecommandSearchPeppolDirectoryRequest import tech.dokus.peppol.provider.client.recommand.model.RecommandSearchPeppolDirectoryResponse import tech.dokus.peppol.provider.client.recommand.model.RecommandSendDocumentResponse</ID>
    <ID>Indentation:PeppolTransferPollingService.kt$PeppolTransferPollingService$ </ID>
    <ID>Indentation:RecommandProvider.kt$RecommandProvider$ </ID>
    <ID>LongMethod:PeppolMapper.kt$PeppolMapper$@Suppress("CyclomaticComplexMethod") fun toDraftData( document: PeppolReceivedDocument, senderPeppolId: String ): DocumentDraftData</ID>
    <ID>LongMethod:PeppolRegistrationService.kt$PeppolRegistrationService$suspend fun enablePeppol( tenantId: TenantId, ): Result&lt;PeppolRegistrationResponse&gt;</ID>
    <ID>LongMethod:PeppolService.kt$PeppolService$suspend fun pollInbox( tenantId: TenantId, createDocumentCallback: suspend (DocumentDraftData, String, TenantId, RecommandDocumentDetail?) -&gt; Result&lt;DocumentId&gt; ): Result&lt;PeppolInboxPollResponse&gt;</ID>
    <ID>LongMethod:PeppolValidator.kt$PeppolValidator$fun validateForSending( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, companyAddress: Address?, tenantSettings: TenantSettings, peppolSettings: PeppolSettingsDto, recipientPeppolId: String? ): PeppolValidationResult</ID>
    <ID>LongParameterList:PeppolMapper.kt$PeppolMapper$( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, tenantSettings: TenantSettings, peppolSettings: PeppolSettingsDto, companyAddress: Address?, recipientPeppolId: String )</ID>
    <ID>LongParameterList:PeppolRegistrationService.kt$PeppolRegistrationService$( private val registrationRepository: PeppolRegistrationRepository, private val settingsRepository: PeppolSettingsRepository, private val verificationService: PeppolVerificationService, private val recommandCompaniesClient: RecommandCompaniesClient, private val tenantRepository: TenantRepository, private val addressRepository: AddressRepository, private val moduleConfig: PeppolModuleConfig )</ID>
    <ID>LongParameterList:PeppolService.kt$PeppolService$( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, companyAddress: Address?, tenantSettings: TenantSettings, tenantId: TenantId, recipientPeppolId: String )</ID>
    <ID>LongParameterList:PeppolService.kt$PeppolService$( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, companyAddress: Address?, tenantSettings: TenantSettings, tenantId: TenantId, recipientPeppolId: String? )</ID>
    <ID>LongParameterList:PeppolValidator.kt$PeppolValidator$( invoice: FinancialDocumentDto.InvoiceDto, contact: ContactDto, tenant: Tenant, companyAddress: Address?, tenantSettings: TenantSettings, peppolSettings: PeppolSettingsDto, recipientPeppolId: String? )</ID>
    <ID>LoopWithTooManyJumpStatements:PeppolService.kt$PeppolService$for</ID>
    <ID>MagicNumber:CompanyAddressParser.kt$CompanyAddressParser$3</ID>
    <ID>MagicNumber:PeppolMapper.kt$PeppolMapper$100</ID>
    <ID>MagicNumber:PeppolService.kt$PeppolService$100</ID>
    <ID>MagicNumber:PeppolTransferPollingService.kt$PeppolTransferPollingService$24</ID>
    <ID>MagicNumber:RecommandCompaniesClient.kt$RecommandCompaniesClient$401</ID>
    <ID>MaxLineLength:PeppolModuleConfig.kt$PeppolModuleConfig.Companion$"Peppol credentials required. Set PEPPOL_MASTER_API_KEY and PEPPOL_MASTER_API_SECRET environment variables."</ID>
    <ID>MaxLineLength:PeppolValidator.kt$PeppolValidator$message = "Sender Peppol ID format is invalid. Expected format: scheme:identifier (e.g., 0208:BE0123456789)"</ID>
    <ID>MaxLineLength:RecommandApiCommonModels.kt$RecommandApiErrorResponse$*</ID>
    <ID>MaxLineLength:RecommandApiCompanyManagementModels.kt$RecommandDeleteCompanyNotificationEmailAddressResponse$* Wrapper response for `DELETE /api/v1/companies/{companyId}/notification-email-addresses/{notificationEmailAddressId}`.</ID>
    <ID>MaxLineLength:RecommandApiDocumentSchemas.kt$RecommandPaymentMeans$*</ID>
    <ID>MaxLineLength:RecommandApiDocumentSchemas.kt$RecommandPaymentTerms$*</ID>
    <ID>MaxLineLength:RecommandApiDocumentSchemas.kt$RecommandSurcharge$*</ID>
    <ID>MaxLineLength:RecommandMapper.kt$RecommandMapper$private</ID>
    <ID>MaximumLineLength:PeppolModuleConfig.kt$PeppolModuleConfig.Companion$ </ID>
    <ID>MaximumLineLength:PeppolValidator.kt$PeppolValidator$ </ID>
    <ID>MaximumLineLength:RecommandMapper.kt$RecommandMapper$ </ID>
    <ID>NoBlankLineBeforeRbrace:PeppolMapper.kt$PeppolMapper$ </ID>
    <ID>NoConsecutiveBlankLines:RecommandApiAuthModels.kt$ </ID>
    <ID>NoConsecutiveBlankLines:RecommandApiCommonModels.kt$ </ID>
    <ID>NoConsecutiveBlankLines:RecommandApiCompanyManagementModels.kt$ </ID>
    <ID>NoConsecutiveBlankLines:RecommandApiDocumentSchemas.kt$ </ID>
    <ID>NoConsecutiveBlankLines:RecommandApiPlaygroundsModels.kt$ </ID>
    <ID>NoConsecutiveBlankLines:RecommandApiRecipientsModels.kt$ </ID>
    <ID>NoConsecutiveBlankLines:RecommandApiSendingModels.kt$ </ID>
    <ID>NoConsecutiveBlankLines:RecommandApiSupportingDataModels.kt$ </ID>
    <ID>NoConsecutiveBlankLines:RecommandApiWebhooksModels.kt$ </ID>
    <ID>NoConsecutiveBlankLines:RecommandMapper.kt$ </ID>
    <ID>NoMultipleSpaces:PeppolMapper.kt$PeppolMapper$ </ID>
    <ID>NoUnusedImports:RecommandMapper.kt$tech.dokus.peppol.provider.client.RecommandMapper.kt</ID>
    <ID>ParameterWrapping:PeppolService.kt$PeppolService$createDocumentCallback: suspend (DocumentDraftData, String, TenantId, RecommandDocumentDetail?) -&gt; Result&lt;DocumentId&gt;</ID>
    <ID>ReturnCount:PeppolValidator.kt$PeppolValidator$private fun isValidPeppolId(peppolId: String): Boolean</ID>
    <ID>SwallowedException:PeppolConnectionService.kt$PeppolConnectionService$e: RecommandUnauthorizedException</ID>
    <ID>TooGenericExceptionCaught:PeppolMapper.kt$PeppolMapper$e: Exception</ID>
    <ID>TooGenericExceptionCaught:PeppolRegistrationService.kt$PeppolRegistrationService$e: Exception</ID>
    <ID>TooGenericExceptionCaught:PeppolService.kt$PeppolService$e: Exception</ID>
    <ID>TooGenericExceptionCaught:PeppolTransferPollingService.kt$PeppolTransferPollingService$e: Exception</ID>
    <ID>TooManyFunctions:RecommandMapper.kt$RecommandMapper</ID>
    <ID>UnusedParameter:PeppolMapper.kt$PeppolMapper$peppolSettings: PeppolSettingsDto</ID>
    <ID>UseCheckOrError:PeppolCredentialResolver.kt$PeppolCredentialResolverImpl$throw IllegalStateException("Peppol settings not found for tenant: $tenantId")</ID>
    <ID>UseCheckOrError:PeppolModuleConfig.kt$PeppolModuleConfig.Companion$throw IllegalStateException( "Peppol credentials required. Set PEPPOL_MASTER_API_KEY and PEPPOL_MASTER_API_SECRET environment variables." )</ID>
    <ID>UseCheckOrError:PeppolRegistrationService.kt$PeppolRegistrationService$throw IllegalStateException("Can only retry from FAILED status, current: ${existing.status}")</ID>
    <ID>UseCheckOrError:PeppolRegistrationService.kt$PeppolRegistrationService$throw IllegalStateException("No existing registration found for tenant $tenantId")</ID>
    <ID>UseCheckOrError:PeppolService.kt$PeppolService$throw IllegalStateException("Peppol settings not configured for tenant: $tenantId")</ID>
  </CurrentIssues>
</SmellBaseline>
