include "application.conf"

ktor {
    deployment {
        environment = "local"
    }
}

# Local dev defaults for Docker compose (can be overridden via env vars).
database {
    url = "jdbc:postgresql://localhost:15432/dokus"
    url = ${?DB_URL}
    username = "dev"
    username = ${?DB_USERNAME}
    password = "devpassword"
    password = ${?DB_PASSWORD}
}

minio {
    endpoint = "http://minio-local:9000"
    endpoint = ${?MINIO_ENDPOINT}
    accessKey = "dokusadmin"
    accessKey = ${?MINIO_ACCESS_KEY}
    secretKey = "dokusadminpassword"
    secretKey = ${?MINIO_SECRET_KEY}
    bucket = "dokus-storage"
    bucket = ${?MINIO_BUCKET}
}

storage {
    publicUrl = "http://localhost:8000/storage"
    publicUrl = ${?STORAGE_PUBLIC_URL}
}

ai {
    # When running inside Docker on macOS/Windows, prefer host.docker.internal.
    ollama-host = "http://host.docker.internal:11434"
    ollama-host = ${?OLLAMA_HOST}
}
